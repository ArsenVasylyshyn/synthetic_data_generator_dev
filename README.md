# Synthetic Data Generator for DEV

ะะตะฝะตัะธััะตั ัะธะฝัะตัะธัะตัะบะธะต CSV-ะดะฐะฝะฝัะต ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ PySpark ะดะปั ัะตััะพะฒะพะณะพ ะพะบััะถะตะฝะธั (`DEV`).
ะะผะตะฝะฐ ะธ ะณะพัะพะดะฐ ะฑะตััััั ะธะท ัะตะฐะปะธััะธัะฝัั ะฒะฝะตัะฝะธั ะฑะธะฑะปะธะพัะตะบ.

## ๐๏ธ Technologies

![Python](https://img.shields.io/badge/Python-3.10+-blue?logo=python&logoColor=white)
![Spark](https://img.shields.io/badge/Apache%20Spark-3.4+-f77f00?logo=apachespark&logoColor=white)
![Make](https://img.shields.io/badge/Makefile-Build%20Automation-lightgrey?logo=gnubash&logoColor=black)
![names](https://img.shields.io/badge/names-ะฑะธะฑะปะธะพัะตะบะฐ-blueviolet)
![geonamescache](https://img.shields.io/badge/geonamescache-ะฑะธะฑะปะธะพัะตะบะฐ-forestgreen)

## ๐ฆ Data structure

- `id`: ะฃะฝะธะบะฐะปัะฝัะน ะธะดะตะฝัะธัะธะบะฐัะพั
- `name`: ะกะปััะฐะนะฝะพะต ะธะผั ะธะท ะฑะธะฑะปะธะพัะตะบะธ `names`
- `email`: ะะดัะตั ัะปะตะบััะพะฝะฝะพะน ะฟะพััั, ัะพััะฐะฒะปะตะฝะฝัะน ะธะท ะธะผะตะฝะธ + ะดะพะผะตะฝ `.ru` ะธะปะธ `.com`
- `city`: ะะฐะทะฒะฐะฝะธะต ะณะพัะพะดะฐ ะธะท `geonamescache` (ะผะธะฝะธะผัะผ 7 ัะธะผะฒะพะปะพะฒ)
- `age`: ะะพะทัะฐัั (ะพั 18 ะดะพ 85 ะปะตั)
- `salary`: ะะฐัะฟะปะฐัะฐ (ะพั 30,000 ะดะพ 250,000, ะฒัะตะณะดะฐ ะทะฐะบะฐะฝัะธะฒะฐะตััั ะฝะฐ `.00`)
- `registration_date`: ะะฐัะฐ ัะตะณะธัััะฐัะธะธ (ะฝะต ัะฐะฝััะต ัะตะผ ะฒะพะทัะฐัั \* 365 ะดะฝะตะน ะฝะฐะทะฐะด)
- ะะพ 5% ะทะฝะฐัะตะฝะธะน ะฒ ะบะฐะถะดะพะผ ััะพะปะฑัะต ะผะพะณัั ะฑััั `NULL` (ะธะผะธัะฐัะธั ะฟัะพะฟััะตะฝะฝัั ะดะฐะฝะฝัั).

## ๐ Project structure

```
synthetic_data_generator_dev/
โโโ src/
โ   โโโ generator.py          # ะะพะณะธะบะฐ ะณะตะฝะตัะฐัะธะธ ัะธะฝัะตัะธัะตัะบะธั ะดะฐะฝะฝัั
โ   โโโ utils.py              # ะัะฟะพะผะพะณะฐัะตะปัะฝัะต ััะฝะบัะธะธ: ะธะผะตะฝะฐ, ะณะพัะพะดะฐ, UDF
โ
โโโ data/                     # ะะฐัะฐะปะพะณ ั ะฒััะพะดะฝัะผะธ CSV-ัะฐะนะปะฐะผะธ
โ   โโโ 2025-05-15-dev.csv    # ะัะธะผะตั ัะณะตะฝะตัะธัะพะฒะฐะฝะฝะพะณะพ ัะฐะนะปะฐ
โ
โโโ scripts/
โ   โโโ validate.py           # ะกะบัะธะฟั ะฒะฐะปะธะดะฐัะธะธ ะดะฐะฝะฝัั (NULL, ะณัะฐะฝะธัั, ัะธะฟั)
โ   โโโ ...                   # ะััะณะธะต ัะบัะธะฟัั
โ
โโโ Makefile                 # ะะฒัะพะผะฐัะธะทะฐัะธั ะทะฐะฟััะบะฐ (make run / validate / all)
โโโ main.py                  # ะะปะฐะฒะฝัะน ัะบัะธะฟั ะณะตะฝะตัะฐัะธะธ (ัะพัะบะฐ ะฒัะพะดะฐ)
โโโ requirements.txt         # Python-ะทะฐะฒะธัะธะผะพััะธ
โโโ README.md                # ะะพะบัะผะตะฝัะฐัะธั ะฟัะพะตะบัะฐ
```

## ๐ Example of generated data

| id  | name    | email               | city        | age | salary    | registration_date |
| --- | ------- | ------------------- | ----------- | --- | --------- | ----------------- |
| 1   | John    | John@example.ru     | Amsterdam   | 23  | 35000.00  | 2020-04-10        |
| 2   | Alice   | Alice@example.com   | Barcelona   | 41  | 250000.00 | 2011-02-25        |
| 3   | NULL    | NULL                | SanAntonio  | 65  | NULL      | 1990-10-19        |
| 4   | Michael | Michael@example.ru  | NULL        | 30  | 78000.00  | 2017-03-12        |
| 5   | Jessica | Jessica@example.com | NewYorkCity | 29  | 50000.00  | 2018-08-01        |

> ๐ **Note:**
>
> - ะะพะปั `name`, `email`, `city`, `age`, `salary` ะผะพะณัั ัะพะดะตัะถะฐัั ะทะฝะฐัะตะฝะธั NULL ะฝะต ะฑะพะปะตะต ัะตะผ ะฒ 5% ัััะพะบ.
> - `registration_date` ะทะฐะฒะธัะธั ะพั ะฒะพะทัะฐััะฐ ะธ ะฝะต ะผะพะถะตั ะฑััั ัะฐะฝััะต, ัะตะผ `current_date - age * 365 ะดะฝะตะน`.

## ๐ ๐๏ธ ะะฐะฟััะบ ัะตัะตะท Makefile

๐น ะะตะฝะตัะฐัะธั ะดะฐะฝะฝัั:

```bash
make run
```

๐น ะะฐะปะธะดะฐัะธั ัะณะตะฝะตัะธัะพะฒะฐะฝะฝัั ะดะฐะฝะฝัั:

```bash
make validate
```

๐น ะะพะปะฝัะน ัะธะบะป: ะณะตะฝะตัะฐัะธั + ะฒะฐะปะธะดะฐัะธั:

```bash
make all
```
